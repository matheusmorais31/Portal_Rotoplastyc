{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/editar_usuario.css' %}">
{% endblock %}

{% block content %}
<div class="container">
    <h2>Editar Usuário</h2>
    
    <form method="POST">
        {% csrf_token %}
        
        <!-- Exibe mensagens de erro gerais -->
        {% if form.errors %}
            <div class="form-errors">
                <ul>
                    {% for field, errors in form.errors.items %}
                        <li>{{ errors|striptags }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}

        <!-- Campos de Nome e Sobrenome -->
        <div class="form-group">
            <label for="first_name">Nome</label>
            {{ form.first_name }}
            <!-- Exibe erro específico de campo -->
            {% if form.first_name.errors %}
                <div class="error-message">{{ form.first_name.errors }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="last_name">Sobrenome</label>
            {{ form.last_name }}
            {% if form.last_name.errors %}
                <div class="error-message">{{ form.last_name.errors }}</div>
            {% endif %}
        </div>

        <!-- Campos de Nome de Usuário e Email -->
        <div class="form-group">
            <label for="username">Usuário</label>
            {{ form.username }}
            {% if form.username.errors %}
                <div class="error-message">{{ form.username.errors }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            {{ form.email }}
            {% if form.email.errors %}
                <div class="error-message">{{ form.email.errors }}</div>
            {% endif %}
        </div>

        <!-- Campos de senha -->
        <div class="form-group">
            <label for="password1">Nova Senha</label>
            {{ form.password1 }}
            {% if form.password1.errors %}
                <div class="error-message">{{ form.password1.errors }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="password2">Confirme a Nova Senha</label>
            {{ form.password2 }}
            {% if form.password2.errors %}
                <div class="error-message">{{ form.password2.errors }}</div>
            {% endif %}
        </div>

        <!-- Campo de Ativo -->
        <div class="form-group">
            <label for="ativo">Ativo</label>
            {{ form.ativo }}
            {% if form.ativo.errors %}
                <div class="error-message">{{ form.ativo.errors }}</div>
            {% endif %}
        </div>

        <!-- Botões Salvar e Cancelar -->
        <div class="form-buttons">
            <button type="button" onclick="window.history.back()">Cancelar</button>
            <button type="submit">Salvar</button>
        </div>
    </form>
</div>
{% endblock %}
